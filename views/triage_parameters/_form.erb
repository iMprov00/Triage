<% if @parameter.errors.any? %>
  <div class="alert alert-danger">
    <h5>Ошибки:</h5>
    <ul>
      <% @parameter.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
    </ul>
  </div>
<% end %>

<div class="row">
  <div class="col-md-6">
    <div class="mb-3">
      <label class="form-label">Название параметра *</label>
      <input type="text" class="form-control" name="parameter[name]" value="<%= @parameter.name %>" required>
    </div>
  </div>
  
  <div class="col-md-6">
    <div class="mb-3">
      <label class="form-label">Кодовое имя *</label>
      <input type="text" class="form-control" name="parameter[code_name]" value="<%= @parameter.code_name %>" required>
      <small class="form-text text-muted">Уникальное имя для использования в коде (латинские буквы, нижнее подчеркивание)</small>
    </div>
  </div>
</div>

<div class="row">
  <div class="col-md-4">
    <div class="mb-3">
      <label class="form-label">Тип данных *</label>
      <select class="form-select" name="parameter[data_type]" required>
        <option value="integer" <%= 'selected' if @parameter.data_type == 'integer' %>>Целое число</option>
        <option value="float" <%= 'selected' if @parameter.data_type == 'float' %>>Дробное число</option>
        <option value="string" <%= 'selected' if @parameter.data_type == 'string' %>>Текст</option>
        <option value="boolean" <%= 'selected' if @parameter.data_type == 'boolean' %>>Да/Нет</option>
      </select>
    </div>
  </div>
  
  <div class="col-md-4">
    <div class="mb-3">
      <label class="form-label">Категория</label>
      <input type="text" class="form-control" name="parameter[category]" value="<%= @parameter.category %>">
    </div>
  </div>
  
  <div class="col-md-4">
    <div class="mb-3">
      <label class="form-label">Позиция</label>
      <input type="number" class="form-control" name="parameter[position]" value="<%= @parameter.position || 1 %>">
    </div>
  </div>
</div>

<div class="mb-3">
  <label class="form-label">Описание</label>
  <textarea class="form-control" name="parameter[description]" rows="3"><%= @parameter.description %></textarea>
</div>

<div class="mb-3 form-check">
  <input type="checkbox" class="form-check-input" name="parameter[active]" value="true" <%= 'checked' if @parameter.active != false %>>
  <label class="form-check-label">Активный параметр</label>
</div>

<div class="d-flex gap-2">
  <button type="submit" class="btn btn-primary">
    <i class="bi bi-check-circle me-2"></i>
    Сохранить
  </button>
  <a href="/admin/parameters" class="btn btn-secondary">Отмена</a>
</div>