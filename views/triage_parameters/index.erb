<div class="d-flex justify-content-between align-items-center mb-4">
  <h1 class="h2 mb-0">
    <i class="bi bi-sliders text-primary me-2"></i>
    Управление параметрами триажа
  </h1>
  <a href="/admin/parameters/new" class="btn btn-primary">
    <i class="bi bi-plus-circle me-2"></i>
    Добавить параметр
  </a>
</div>

<div class="card shadow-sm">
  <div class="card-body">
    <% if @parameters.any? %>
      <div class="table-responsive">
        <table class="table table-hover">
          <thead class="table-light">
            <tr>
              <th>Позиция</th>
              <th>Название</th>
              <th>Код</th>
              <th>Тип данных</th>
              <th>Категория</th>
              <th>Статус</th>
              <th class="text-end">Действия</th>
            </tr>
          </thead>
          <tbody>
            <% @parameters.each do |param| %>
              <tr>
                <td><%= param.position %></td>
                <td>
                  <strong><%= param.name %></strong>
                  <% if param.description.present? %>
                    <br><small class="text-muted"><%= param.description %></small>
                  <% end %>
                </td>
                <td><code><%= param.code_name %></code></td>
                <td>
                  <span class="badge bg-info"><%= param.data_type %></span>
                </td>
                <td><%= param.category %></td>
                <td>
                  <span class="badge <%= param.active ? 'bg-success' : 'bg-secondary' %>">
                    <%= param.active ? 'Активен' : 'Неактивен' %>
                  </span>
                </td>
                <td>
                  <div class="d-flex justify-content-end gap-2">
                    <a href="/admin/parameters/<%= param.id %>/edit" class="btn btn-sm btn-outline-warning" data-bs-toggle="tooltip" title="Редактировать">
                      <i class="bi bi-pencil-fill"></i>
                    </a>
                    <form action="/admin/parameters/<%= param.id %>" method="post" class="d-inline">
                      <input type="hidden" name="_method" value="delete">
                      <button type="submit" class="btn btn-sm btn-outline-danger" data-bs-toggle="tooltip" title="Удалить" onclick="return confirm('Удалить параметр?')">
                        <i class="bi bi-trash-fill"></i>
                      </button>
                    </form>
                  </div>
                </td>
              </tr>
            <% end %>
          </tbody>
        </table>
      </div>
    <% else %>
      <div class="text-center py-5">
        <i class="bi bi-sliders display-1 text-muted"></i>
        <h3 class="text-muted mt-3">Параметров пока нет</h3>
        <p class="text-muted">Добавьте первый параметр для настройки системы триажа</p>
        <a href="/admin/parameters/new" class="btn btn-primary mt-3">
          <i class="bi bi-plus-circle me-2"></i>
          Добавить параметр
        </a>
      </div>
    <% end %>
  </div>
</div>